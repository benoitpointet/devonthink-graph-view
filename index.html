<!DOCTYPE HTML>
  <html>
  <head>
    <title>Devonthink Graph Browser</title>
  <style type='text/css'>
    #container {
      top: 2%;
      bottom: 2%;
      left: 2%;
      right: 2%;
      position: absolute;
    }
  </style>
  </head>
  <body>
  <div id='container'></div>
  <div class="">
    <a href="javascript:s.killForceAtlas2();">freeze</a>
  </div>
  <script src="sigma/sigma.min.js"></script>
  <script src="sigma/plugins/sigma.layout.forceAtlas2.min.js"></script>
  <script src="sigma/plugins/sigma.plugins.relativeSize.min.js"></script>
  <script>
    var s = new sigma({
      renderer: {
        container: document.getElementById('container'),
          type: 'webgl'
        },
      settings: {
        defaultLabelColor: "#888",
        defaultEdgeColor: "#333",
        defaultNodeColor: "#222",
        labelSize: "fixed",
        labelThreshold: 2,
        zoomingRatio: 1.2,
        defaultEdgeType: "arrow",
        minArrowSize: 100,
      }
    });

    // rendering fct called by applescript
    function graphThis(graphJSON) {
      s.graph.read(graphJSON);
      sigma.plugins.relativeSize(s, 4);
      s.startForceAtlas2({
        iterationsPerRender: 10,
        slowDown: 1000,
        scalingRatio: 0.2,
        strongGravityMode: true,
        worker: true,
      });
      s.bind('doubleClickNode', function(e) {
        window.open(e.data.node.xdlink);
      });
    }

    var testJSON = {"nodes":[{"y":168,"id":"9","label":"Inbox","x":98,"color":"#1af"},{"y":601,"id":"12","label":"Tags","x":6,"color":"#1af"},{"y":376,"id":"3516","label":"a-tag","x":880,"color":"#1af"},{"y":307,"id":"8368","label":"graph","x":66,"color":"#1af"},{"y":853,"id":"8374","label":"sigmajs_example","x":550,"color":"#1af"},{"y":963,"id":"8370","label":"sigma.min","x":917,"color":"#333"},{"y":192,"id":"8402","label":"sigma.layout.forceAtlas2.min","x":452,"color":"#333"},{"y":890,"id":"8372","label":"index","x":317,"color":"#333"},{"y":585,"id":"26","label":"G10","x":2,"color":"#1af"},{"y":933,"id":"90","label":"G12","x":854,"color":"#1af"},{"y":333,"id":"29","label":"G11","x":311,"color":"#1af"},{"y":620,"id":"6968","label":"A long-read","x":906,"color":"#1af"},{"y":416,"id":"6337","label":"a test markdown","x":993,"color":"#333"},{"y":449,"id":"6365","label":"A Test Doc - Google Docs (PDF Snapshot)","x":695,"color":"#333"},{"y":950,"id":"93","label":"G00","x":986,"color":"#1af"},{"y":764,"id":"8424","label":"STAR Model Plus Test PDF","x":721,"color":"#333"},{"y":449,"id":"8421","label":"STAR Model Plus Test","x":955,"color":"#333"},{"y":479,"id":"6314","label":"A Test Doc - Google Docs","x":771,"color":"#333"},{"y":216,"id":"2.147483645E+9","label":"Zandbox","x":128,"color":"#1af"}],"edges":[{"id":"12-3516","target":"3516","source":"12"},{"id":"3516-6337","target":"6337","source":"3516"},{"id":"8368-8370","target":"8370","source":"8368"},{"id":"8368-8372","target":"8372","source":"8368"},{"id":"8368-8374","target":"8374","source":"8368"},{"id":"8368-8402","target":"8402","source":"8368"},{"id":"26-29","target":"29","source":"26"},{"id":"26-90","target":"90","source":"26"},{"id":"29-6365","target":"6365","source":"29"},{"id":"29-6968","target":"6968","source":"29"},{"id":"29-6337","target":"6337","source":"29"},{"id":"93-29","target":"29","source":"93"},{"id":"2.147483645E+9-9","target":"9","source":"2.147483645E+9"},{"id":"2.147483645E+9-12","target":"12","source":"2.147483645E+9"},{"id":"2.147483645E+9-26","target":"26","source":"2.147483645E+9"},{"id":"2.147483645E+9-93","target":"93","source":"2.147483645E+9"},{"id":"2.147483645E+9-6314","target":"6314","source":"2.147483645E+9"},{"id":"2.147483645E+9-6365","target":"6365","source":"2.147483645E+9"},{"id":"2.147483645E+9-8368","target":"8368","source":"2.147483645E+9"},{"id":"2.147483645E+9-8421","target":"8421","source":"2.147483645E+9"},{"id":"2.147483645E+9-6337","target":"6337","source":"2.147483645E+9"},{"id":"2.147483645E+9-8424","target":"8424","source":"2.147483645E+9"}]};

    </script>
</body>
</html>
